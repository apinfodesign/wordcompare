#!/usr/bin/env node
//compare two files
console.log("testing");
console.log(process.argv);

var program = require('commander');
var fs = require('fs');
/**
 * Module dependencies.
 */
var inputText;

function counter(inputString){ 
	var wordArray = inputString.split(/\s+/);
	console.log("Here is your array:  " + wordArray);
	console.log("The array is this long: " + wordArray.length);
	console.log("The text contains this many characters: " + inputText.length);
	return wordArray;
	};

function compareTwoTextFiles(firstTextArray, secondTextArray){
	firstTextArray.forEach(function(element){
		//console.log("outer " + element);
		currentElement = element;
		secondTextArray.forEach(function(element){
			//console.log("inner  " + element);
			if (currentElement === element){console.log("We have a match on ... "+ currentElement)};	
		})
	})
};


fs.readFile('./wordfile1', { encoding: 'utf8' }, function(err, contents1) {
  inputText = contents1;
   //counter(inputText);
   var words1 = counter(inputText);     //first call of counter()
  		//next second read inside of first read.
		fs.readFile('./wordfile2', { encoding: 'utf8' }, function(err, contents2) {
  			inputText=contents2;
  			var words2 = counter(inputText);      // second call of counter
  			 ///////////////////////////////////////////	
 			compareTwoTextFiles(words1, words2);
 	});
});

// elements.forEach(function(element) {
//   // The asynchronous action simulator
//   setTimeout(function() {    console.log(element);  }, 100);
// });

 
// function compareTwoTextFiles(firstText, secondText){
//  for each 

//   function compareTwoTextFiles(contents1, contents2){
//     for (i=0; i< NUMBER OF WORDS IN CONTENTS1; i++)
//   READ THE i ELEMENT
//      for (j=0; j < NUMBER OF WORDS IN CONTENTS2;  j++)
// 			READ THE j ELEMENT
//				COMPARE THE ith ELEMENT to the ELEMENT WORD
//				IF MATCH, PUSH TO ListOfMatches[]
//				
//			}
//		}
//	RETURN ListOfMatches[]
//
//};




/////////////////

//console.log("Choose: (-r, -s, -h, -c)");


// program
//   .version('0.0.1')
//   .option('-r, --rain', 'It is raining')
//   .option('-s, --snow', 'It is snowing')
//   .option('-h, --hot', 'It is hot')
//   .option('-c, --cold', 'It is cold')
//    .parse(process.argv);

// console.log('The weather in Portland is: ');

// if (program.rain) console.log('  - rain');
// if (program.snow) console.log('  - snow');
// if (program.hot) console.log('  - hot');
// if (program.cold) console.log('  - cold');


